---
title: Create i18n
description: Main function to create an i18n instance that works on both client and server
---

The `createI18n` function is the main entry point of the library. It creates an internationalization instance that works on both the client and server sides, providing all the tools necessary to handle multiple languages in your application.

```ts
export const { i18nClient, i18nServer, getLocalePath, getDir } = createI18n(
  {
    en: () => import("./en"),
    es: () => import("./es"),
  },
  {
    defaultLocale: "en",
    fallbackLocale: "en",
    regions: {
      en: ["US"],
      es: ["ES"],
    },
    prefixDefaultLocale: true,
  }
);
```

## Parameters

### locales

Object that contains all the translations for each locale. This object is expected to be a dynamic import of the locale file.

### config

Configuration of the i18n instance.

```ts
const config = {
  defaultLocale: "en",
  fallbackLocale: "en",
  regions: {
    en: ["US", "CA"],
    es: ["ES", "MX"],
  },
  prefixDefaultLocale: true,
  paramName: "locale",
};
```

- **`defaultLocale`**: Default locale
- **`fallbackLocale`**: Fallback locale if the translation is not found
- **`regions`**: Regions associated with each locale
- **`prefixDefaultLocale`**: If show the default locale in the URL
- **`paramName`**: Name of the parameter for the locale in React Router

## Return value

The function returns an object with the following properties:

### i18nClient

Instance for the client side with React hooks and functions.

```ts
const { t, scopedT, currentLocale, useChangeLocale, LocaleLink } = i18nClient;
```

#### `LocaleLink`

Link component with localized path internally.

#### `useChangeLocale`

Hook to change the current locale.

#### `currentLocale`

Gets the current locale.

### i18nServer

Instance for the server side with functions that receive `Request`.

```ts
const { t, scopedT, resolve } = i18nServer;
```

#### `resolve`

Function that automatically handles redirects based on the URL with locale.

Returns an object with the following properties:

- `locale`: The locale of the current route.
- `region`: The region of the current route.
- `fullLocale`: The full locale of the current route.
- `request`: The request object with updated cookies and URL.

### supportedLocales

Array with all the supported locales

### getLocalePath(to, locale)

Generates the localized path for a given route.

```ts
getLocalePath("/about", "es"); // "/es/about"
```

### generateStaticLocalePaths(routes)

Generates all the static routes for pre-rendering.

```ts
generateStaticLocalePaths(["/", "/about"]);
// ["/", "/en", "/es", "/about", "/en/about", "/es/about"]
```

### getDir(locale)

Gets the direction of the text (LTR/RTL) for a language.

```ts
getDir("ar"); // "rtl"
getDir("en"); // "ltr"
```

## Example

```ts
import { createI18n } from "@intlize/nextjs";

const locales = {
  en: {
    "hello.world": "Hello {param}!",
    "hello.nested.translations": "Translations",
  },
  es: {
    "hello.world": "Hola {param}!",
    "hello.nested.translations": "Traducciones",
  },
};

const config = {
  defaultLocale: "en",
  fallbackLocale: "en",
  regions: {
    en: ["US", "CA"],
    es: ["ES", "MX"],
  },
  prefixDefaultLocale: true,
};

const i18n = createI18n(locales, config);

// In the client
const { t, scopedT, currentLocale, useChangeLocale } = i18n.i18nClient;

// In the server
const { t, scopedT, resolve } = i18n.i18nServer;
```

## Special features

### Validation of keys

The function automatically validates that all translation keys are present in all locales using `helpers.checkLocaleKeys()`

### RTL support

Detects automatically RTL (Right-to-Left) languages like Arabic, Hebrew, etc.

### Workaround for React 19

Includes a workaround to avoid warnings of React 19 in development related to un-cached promises.
